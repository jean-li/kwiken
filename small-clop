#!/bin/bash

cd simulations;
 python experiment_topo.py  \
 	--numWorkload 1 \
 	--serverConcurrency 1 \
 	--serviceTime 4.00 \
 	--workloadParam 2.1818181818 \
 	--serviceTimeModel constant \
 	--replicationFactor 3 \
 	--selectionStrategy primary \
	--shadowReadRatio 0.0 \
 	--accessPattern uniform \
 	--nwLatencyBase 0.00 \
 	--nwLatencyMu 0.0 \
 	--nwLatencySigma 0.0 \
 	--expPrefix primary\
 	--simulationDuration 100000\
 	--seed 434\
    --iNumber 4\
    --coreAggrBW 100\
    --aggrEdgeBW 10\
    --procTime 2.00\
    --edgeHostBW 1\
    --placementStrategy interleave\
	--numRequests 1000;

# python experiment.py  \
# 	--numClients 2 \
# 	--numServers 3 \
# 	--numWorkload 1 \
# 	--serverConcurrency 1 \
# 	--serviceTime 4.00 \
# 	--workloadParam 2.1818181818 \
# 	--serviceTimeModel constant \
# 	--replicationFactor 3 \
# 	--selectionStrategy primary \
#	--shadowReadRatio 0.0 \
# 	--backpressure \
# 	--accessPattern uniform \
# 	--nwLatencyBase 0.00 \
# 	--nwLatencyMu 0.0 \
# 	--nwLatencySigma 0.0 \
# 	--expPrefix primary\
# 	--simulationDuration 100000\
# 	--seed 434\
# 	--numRequests 1000;

# python experiment.py  \
# 	--numClients 2 \
# 	--numServers 3 \
# 	--numWorkload 1 \
# 	--serverConcurrency 1 \
# 	--serviceTime 4.00 \
# 	--workloadParam 2.1818181818 \
# 	--serviceTimeModel constant \
# 	--replicationFactor 3 \
# 	--selectionStrategy response_time \
#	--shadowReadRatio 0.0 \
# 	--accessPattern uniform \
# 	--nwLatencyBase 0.00 \
# 	--nwLatencyMu 0.0 \
# 	--nwLatencySigma 0.0 \
# 	--expPrefix rp\
# 	--simulationDuration 100000\
# 	--seed 434\
# 	--numRequests 1000;


# python experiment.py  \
# 	--numClients 2 \
# 	--numServers 3 \
# 	--numWorkload 1 \
# 	--serverConcurrency 1 \
# 	--serviceTime 4.00 \
# 	--workloadParam 2.1818181818 \
# 	--serviceTimeModel constant \
# 	--replicationFactor 3 \
# 	--backpressure \
# 	--accessPattern uniform \
# 	--nwLatencyBase 0.00 \
# 	--nwLatencyMu 0.0 \
# 	--nwLatencySigma 0.0 \
# 	--expPrefix pending\
# 	--simulationDuration 100000\
# 	-1000eed 41000\
# 	--numRequests 1000;

# python experiment.py  \
# 	--numClients 2 \
# 	--numServers 3 \
# 	--numWorkload 1 \
# 	--serverConcurrency 1 \
# 	--serviceTime 4.00 \
# 	--workloadParam 2.1818181818 \
# 	--serviceTimeModel constant \
# 	--replicationFactor 3 \
# 	--selectionStrategy pendingXserviceTime \
# 	--shadowReadRatio 0.0 \
# 	--accessPattern uniform \
# 	--nwLatencyBase 0.00 \
# 	--nwLatencyMu 0.0 \
# 	--nwLatencySigma 0.0 \
# 	--expPrefix pendingXserviceTime\
# 	--simulationDuration 100000\
# 	--seed 434\
# 	--numRequests 1000;

python experiment.py  \
	--numClients 2 \
	--numServers 3 \
	--numWorkload 1 \
	--serverConcurrency 1 \
	--serviceTime 4.00 \
	--workloadParam 2.1818181818 \
	--serviceTimeModel constant \
	--replicationFactor 3 \
	--selectionStrategy pendingXserviceTimeOracle \
	--shadowReadRatio 0.0 \
	--accessPattern uniform \
	--nwLatencyBase 0.00 \
	--nwLatencyMu 0.0 \
	--nwLatencySigma 0.0 \
	--expPrefix oracle\
	--simulationDuration 100000\
	--seed 434\
	--numRequests 1000;

python experiment.py  \
	--numClients 2 \
	--numServers 3 \
	--numWorkload 1 \
	--serverConcurrency 1 \
	--serviceTime 4.00 \
	--workloadParam 2.1818181818 \
	--serviceTimeModel constant \
	--replicationFactor 3 \
	--backpressure \
	--selectionStrategy expDelay \
	--shadowReadRatio 0.0 \
	--accessPattern uniform \
	--nwLatencyBase 0.00 \
	--nwLatencyMu 0.0 \
	--nwLatencySigma 0.0 \
	--expPrefix expDelay \
	--simulationDuration 100000 \
	--seed 434 \
	--numRequests 1000;


cd ..
cd plotting;
# Rscript timeseries.r primary;
# Rscript timeseries.r rp;
# Rscript timeseries.r pending;
# Rscript timeseries.r pendingXserviceTime;
Rscript timeseries.r oracle;
Rscript timeseries.r expDelay;
cd ..
